(function(t){function e(e){for(var o,i,r=e[0],u=e[1],c=e[2],l=0,f=[];l<r.length;l++)i=r[l],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&f.push(s[i][0]),s[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);m&&m(e);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,i=1;i<n.length;i++){var u=n[i];0!==s[u]&&(o=!1)}o&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},s={app:0},a=[];function i(t){return r.p+"js/"+({}[t]||t)+"."+{"chunk-2d0e95df":"e31ee53b"}[t]+".js"}function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(t){var e=[],n=s[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=s[t]=[e,o]}));e.push(n[2]=o);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.src=i(t);var c=new Error;a=function(e){u.onerror=u.onload=null,clearTimeout(l);var n=s[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",c.name="ChunkLoadError",c.type=o,c.request=a,n[1](c)}s[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:u})}),12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(e)},r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var m=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0582":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main"}},[n("router-view")],1)},a=[],i={mounted:function(){this.$actions.setGlobalState({userInfo:{name:"qiiankun"},globalConfig:{formSize:"small"}})}},r=i,u=(n("5c0b"),n("2877")),c=Object(u["a"])(r,s,a,!1,null,null,null),l=c.exports,m=n("5530"),f=n("8c4f"),d=n("2f62"),h=n("2909"),p=n("53ca"),_=(n("99af"),n("d3b7"),n("3ca3"),n("ddb0"),n("b0c0"),n("bc3a")),b=n.n(_),E={baseURL:"http://47.104.88.119:6001/",timeout:2500},v=b.a.create(E);v.defaults.headers.common["Authorization"]="AUTH_TOKEN",v.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",v.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),v.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)}));var g=v,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout",[t.isMain?n("router-view",{staticClass:"height-abs"}):n("div",{staticClass:"app-view-box",attrs:{id:"subapp-viewport"}})],1)},U=[],A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{"text-align":"left"},attrs:{width:"240px"}},[n("side-menu")],1),n("el-container",[n("el-header",[n("nav-menu")],1),n("tabs"),n("el-main",[t._t("default")],2)],1)],1)},T=[],S=(n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-row border-bottom",staticStyle:{padding:"0px 20px",height:"60px"}},[n("el-menu",{staticClass:"flex-1 none-border",attrs:{"default-active":t.currentModuleName,mode:"horizontal"}},[n("el-menu-item",{attrs:{index:"home"},on:{click:t.toHome}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),t._l(t.menus,(function(e,o){return n("el-menu-item",{key:o+"menus",attrs:{index:e.moduleName},on:{click:function(n){return t.handleSelect(e)}}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.moduleTitle))])])}))],2),n("div",{staticClass:"flex-row flex-items-center"},[n("div",{staticStyle:{"padding-right":"20px"}},[t._v("全局数据："+t._s(t.userName))]),n("div",{staticClass:"menu-icons"},[t._m(0),t._m(1),n("span",{staticClass:"menu-icon"},[n("el-badge",{staticClass:"item",attrs:{"is-dot":""}},[n("i",{staticClass:"el-icon-bell icon"})])],1)]),n("div",{staticClass:"cursor-pointer",staticStyle:{height:"60px"}},[t.isScresnFull?n("span",{staticClass:"qiankun-font iconscreen-exit",on:{click:function(e){return t.screenfullClick()}}}):n("span",{staticClass:"qiankun-font iconscreen-full",on:{click:function(e){return t.screenfullClick()}}})]),n("el-dropdown",{on:{command:t.handleCommand}},[n("div",{staticClass:"flex-row flex-items-center cursor-pointer"},[n("el-avatar",{staticClass:"border",attrs:{src:t.avatarImg}})],1),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"setting"}},[t._v("修改用户名")]),n("el-dropdown-item",{attrs:{command:"logout"}},[t._v("跳转登录页")])],1)],1)],1)],1)}),M=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"menu-icon"},[n("i",{staticClass:"el-icon-search icon"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"menu-icon"},[n("i",{staticClass:"el-icon-message icon"})])}],N=n("93bf"),C=n.n(N),L={data:function(){return{avatarImg:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",isScresnFull:!1}},computed:Object(m["a"])({},Object(d["b"])({currentModuleName:function(t){return t.permission.currentModuleName},userName:function(t){return t.userInfo.name},menus:function(t){return t.permission.menus}})),methods:{toHome:function(){var t={title:"首页",moduleName:"Home",path:"/home",meta:{isTabs:!1,isSide:!1,isMain:!0}};this.$router.push("/home"),this.$store.commit("UPDATE_CURRENT_PAGE","/home"),this.$store.commit("UPDATE_TABS_LIST",t)},filterMenus:function(t){var e=this,n=this;t&&this.menus.forEach((function(o){o.moduleName===t&&(e.$actions.setGlobalState({routers:n.menus}),e.$store.commit("UPDATE_SUB_MENU",o.menuList),e.$store.commit("UPDATE_TABS_LIST",o.menuList[0]))}))},handleSelect:function(t){sessionStorage.setItem("currentMenu",t.moduleName),this.filterMenus(t.moduleName),this.$store.commit("UPDATE_CURRENT_MODULE_NAME",t.moduleName);var e="/".concat(t.moduleName,"/home");this.$store.commit("UPDATE_CURRENT_PAGE",e),sessionStorage.setItem("currentPage",e),this.$router.push(e)},handleCommand:function(t){"logout"!==t?"setting"===t&&(this.$store.commit("UPDATE_USER_INFO_ITEM",{key:"userInfo",value:{name:"zhangsan"}}),this.$actions.setGlobalState({userInfo:{name:"zhangsan"}})):this.$router.push({path:"/login"})},screenfullClick:function(){C.a.isEnabled&&(C.a.toggle(),this.isScresnFull=!this.isScresnFull)}}},O=L,D=(n("8a00"),Object(u["a"])(O,S,M,!1,null,"7a65a14e",null)),y=D.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"side-bar"},[t._m(0),n("el-menu",{staticClass:"side-menu",attrs:{"default-active":t.currentPage,"background-color":"#00142a","text-color":"hsla(0, 0%, 100%, .65)","active-text-color":"#409EFF"},on:{open:t.handleOpen,close:t.handleClose}},[t._l(t.subMenu,(function(e){return["notfound"!==e.name?n("el-menu-item",{key:e.name,attrs:{index:e.path},on:{click:function(n){return t.handleSelect(e)}}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]):t._e()]}))],2)],1)},I=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("span",{staticClass:"site-name"},[t._v("ADMIN LITE")])])}],R={computed:Object(m["a"])({},Object(d["b"])({subMenu:function(t){return t.permission.subMenu},currentPage:function(t){return t.permission.currentPage}})),methods:{handleSelect:function(t){this.$store.commit("UPDATE_CURRENT_PAGE",t.path),sessionStorage.setItem("currentPage",t.path),this.$store.commit("UPDATE_CURRENT_MODULE_NAME",t.moduleName),this.$store.commit("UPDATE_TABS_LIST",t),this.$router.push(t.path)},handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)}}},j=R,x=(n("dd18"),Object(u["a"])(j,$,I,!1,null,"fcd11980",null)),w=x.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabs-box flex-row flex-items-center"},t._l(t.tabsList,(function(e){return n("div",{key:e.name,staticClass:"tabs-item paas-flex-cc",class:e.path===t.currentPage?"tabs-item-hover":"null"},[n("span",[n("span",{staticClass:"cursor-pointer fs-14 tabs-item-text",on:{click:function(n){return t.handleClick(e)}}},[t._v(t._s(e.title))]),n("i",{staticClass:"el-icon-close tabs-remove-icon cursor-pointer",on:{click:function(n){return t.removeTab(e)}}})])])})),0)},G=[],B={computed:Object(m["a"])({},Object(d["b"])({menus:function(t){return t.permission.menus},currentPage:function(t){return t.permission.currentPage},tabsList:function(t){return t.tabs.tabsList}})),methods:{filterMenus:function(t){var e=this;t&&this.menus.forEach((function(n){n.moduleName===t&&(e.$actions.setGlobalState({routers:n.menuList}),e.$store.commit("UPDATE_SUB_MENU",n.menuList))}))},getArrayIndex:function(t,e){for(var n=0;n<t.length;n++){var o=t[n];if(o.name===e)return n}return-1},handleClick:function(t){if(this.currentPage===t.path)return!1;this.$store.commit("UPDATE_CURRENT_PAGE",t.path),this.filterMenus(t.moduleName),this.$store.commit("UPDATE_CURRENT_MODULE_NAME",t.moduleName),sessionStorage.setItem("currentPage",t.path),this.$router.push({path:t.path})},removeTab:function(t){var e=this.tabsList.length-1,n=this.getArrayIndex(this.tabsList,t.name);e===n?this.$store.dispatch("REMOVE_LAST_TAB",t):this.$store.dispatch("REMOVE_ANY_TAB",{indexOf:n,tabsItem:t})}}},V=B,F=(n("d500"),Object(u["a"])(V,k,G,!1,null,"6e37b6bc",null)),H=F.exports,q={name:"Layout",components:{SideMenu:w,NavMenu:y,Tabs:H},computed:Object(m["a"])({},Object(d["b"])({menus:function(t){return t.permission.menus}})),mounted:function(){var t={title:"首页",moduleName:"Home",path:"/home",meta:{isTabs:!1,isSide:!1,isMain:!0}},e=sessionStorage.getItem("currentPage");if(e)this.filterMenus({path:e}),this.$store.commit("UPDATE_CURRENT_PAGE",e);else{var n=sessionStorage.getItem("currentMenu");n?this.filterMenus({moduleName:n}):(this.$store.commit("UPDATE_SUB_MENU",!0),this.$store.commit("UPDATE_TABS_LIST",t),this.$store.commit("UPDATE_CURRENT_PAGE","/home"))}},methods:{filterMenus:function(t){var e=this,n=this;t&&t.moduleName?this.menus.forEach((function(o){o.moduleName===t.moduleName&&(e.$actions.setGlobalState({routers:n.menus}),e.$store.commit("UPDATE_CURRENT_MODULE_NAME",t.moduleName),e.$store.commit("UPDATE_SUB_MENU",o.menuList),e.$store.commit("UPDATE_TABS_LIST",o.menuList[0]))})):t&&t.path&&this.menus.forEach((function(o){for(var s=0,a=o.menuList.length;s<a;s+=1){var i=o.menuList[s];i.path===t.path&&(e.$store.commit("UPDATE_CURRENT_MODULE_NAME",o.moduleName),e.$actions.setGlobalState({routers:n.menus}),e.$store.commit("UPDATE_SUB_MENU",o.menuList),e.$store.commit("UPDATE_TABS_LIST",i))}}))}}},z=q,J=(n("d57a"),Object(u["a"])(z,A,T,!1,null,"38fa5a77",null)),Y=J.exports,K=n("34ac9"),Q=n("07ec"),W=n("548a"),X=(n("caad"),n("2532"),n("1276"),n("ac1f"),n("d81d"),n("e223")),Z=o["default"].observable({userInfo:{},globalConfig:{},routers:[]}),tt=Object(X["b"])(Z);tt.onGlobalStateChange((function(t){for(var e in t)Z[e]=t[e],"userInfo"!==e?"globalConfig"!==e?"routers"!==e||gt.commit("UPDATE_SUB_MENU",t[e]):gt.commit("UPDATE_GLOBAL_CONFIG",t[e]):gt.commit("UPDATE_USER_INFO",t[e])})),tt.getGlobalState=function(t){return t?Z[t]:Z},o["default"].prototype.$actions=tt;var et=tt,nt=[],ot=Object({NODE_ENV:"production",VUE_APP_API_URL:"http://47.104.88.119:6001/",VUE_APP_CHILD_sub01:"//localhost:8010/child/sub01/",VUE_APP_CHILD_sub02:"//localhost:8020/child/sub02/",VUE_APP_DEFAULT_APP:"/home",BASE_URL:"/"});for(var st in ot)if(st.includes("VUE_APP_CHILD_")){var at=st.split("VUE_APP_CHILD_")[1],it={name:at,entry:Object({NODE_ENV:"production",VUE_APP_API_URL:"http://47.104.88.119:6001/",VUE_APP_CHILD_sub01:"//localhost:8010/child/sub01/",VUE_APP_CHILD_sub02:"//localhost:8020/child/sub02/",VUE_APP_DEFAULT_APP:"/home",BASE_URL:"/"})[st],activeRule:"/".concat(at)};nt.push(it)}var rt=nt.map((function(t){return Object(m["a"])(Object(m["a"])({},t),{},{container:"#subapp-viewport",props:{routerBase:t.activeRule,getGlobalState:et.getGlobalState}})})),ut=rt;function ct(){Object(K["b"])(ut,{beforeLoad:[function(t){console.log("before load",t)}],beforeMount:[function(t){console.log("before mount",t)}],afterMount:[function(t){console.log("before mount",t)}],afterUnmount:[function(t){console.log("after unload",t)}]}),Object(Q["a"])((function(){return console.log("开启监控")})),Object(W["a"])((function(t){return console.log(t)})),Object(K["c"])({prefetch:"all",sandbox:{strictStyleIsolation:!0},singular:!0})}var lt=ct,mt={data:function(){return{isMain:!1}},components:{Layout:Y},watch:{$route:function(t){this.isMainPage(t)}},mounted:function(){this.isMainPage(this.$route),window.qiankunStarted||(window.qiankunStarted=!0,lt())},methods:{isMainPage:function(t){t.meta.isMain?this.isMain=t.meta.isMain:this.isMain=!1}}},ft=mt,dt=Object(u["a"])(ft,P,U,!1,null,null,null),ht=dt.exports,pt={state:function(){return{routers:null,menus:[],subMenu:[],currentModuleName:"home",currentPage:null}},mutations:{UPDATE_CURRENT_MODULE_NAME:function(t,e){t.currentModuleName=e},UPDATE_CURRENT_PAGE:function(t,e){t.currentPage=e},UPDATE_MENUS:function(t,e){t.menus=e},UPDATE_SUB_MENU:function(t,e){t.subMenu=[];var n={title:"首页",moduleName:"Home",path:"/home",meta:{isTabs:!1,isSide:!1,isMain:!0}};"boolean"!==typeof e?"object"===Object(p["a"])(e)&&(t.subMenu=e):t.subMenu.push(n)},UPDATE_MENU_LIST:function(t,e){t.routers=It.concat(e)}},actions:{generateRoutes:function(t){var e=t.commit;return new Promise((function(t){g.get("/menus").then((function(o){for(var s=o.data.data.list,a=[],i=0;i<s.length;i++){var r=s[i],u=_t(r.menuList);a=[].concat(Object(h["a"])(a),Object(h["a"])(u))}a.push({path:"*",name:"notfound",component:function(){return n.e("chunk-2d0e95df").then(n.bind(null,"8cdb"))}}),e("UPDATE_MENUS",s),e("UPDATE_MENU_LIST",a),t(a)}))}))}},getters:{}};function _t(t){for(var e=[],n=0;n<t.length;n++){var o=t[n],s={path:o.path,component:ht,name:o.name,meta:o.meta,title:o.title,moduleName:o.moduleName};e.push(s)}return e}var bt=pt,Et=(n("4de4"),n("a434"),{state:function(){return{tabsList:[]}},mutations:{UPDATE_TABS_LIST:function(t,e){if(t.tabsList.length<10){var n=t.tabsList.filter((function(t){return t.name===e.name}));n.length||t.tabsList.push(e),wt.push({path:e.path})}}},actions:{REMOVE_LAST_TAB:function(t,e){var n=t.state,o=t.commit;if(n.tabsList.length>1){n.tabsList.forEach((function(t,o){t.name===e.name&&n.tabsList.splice(o,1)}));var s=n.tabsList.length-1,a=n.tabsList[s];o("UPDATE_CURRENT_PAGE",a.path),wt.push({path:a.path})}},REMOVE_ANY_TAB:function(t,e){var n=t.state,o=t.commit,s=e.tabsItem,a=e.indexOf,i=n.tabsList.length;if(n.tabsList.length>1&&a<i){n.tabsList.forEach((function(t,e){t.name===s.name&&n.tabsList.splice(e,1)}));var r=a-1,u=n.tabsList[r];o("UPDATE_CURRENT_PAGE",u.path),wt.push({path:u.path})}}}}),vt=Et;o["default"].use(d["a"]);var gt=new d["a"].Store({state:{userInfo:{name:"qiankun"},globalConfig:{formSize:"small"}},mutations:{UPDATE_USER_INFO_ITEM:function(t,e){t[e.key]=e.value},UPDATE_GLOBAL_CONFIG_ITEM:function(t,e){t[e.key]=e.value},UPDATE_USER_INFO:function(t,e){t.userInfo=e},UPDATE_GLOBAL_CONFIG:function(t,e){t.globalConfig=e}},actions:{},modules:{permission:bt,tabs:vt}}),Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("h1",[t._v("main登录页面")]),n("el-button",{attrs:{type:"primary"},on:{click:t.toHome}},[t._v("登录")])],1)},Ut=[],At={name:"Login",mounted:function(){sessionStorage.removeItem("currentMenu"),sessionStorage.removeItem("currentPage"),this.$actions.setGlobalState({userInfo:{name:"lizhijie429"}})},methods:{toHome:function(){this.$router.push("/home")}}},Tt=At,St=Object(u["a"])(Tt,Pt,Ut,!1,null,null,null),Mt=St.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[t._v("主应用首页")])},Ct=[],Lt={},Ot=Object(u["a"])(Lt,Nt,Ct,!1,null,null,null),Dt=Ot.exports,yt=n("323e"),$t=n.n(yt);n("a5d8");o["default"].use(f["a"]);var It=[{path:"/login",name:"login",component:Mt,meta:{isTabs:!1,isSide:!1,isMain:!0}},{path:"/",name:"Layout",component:ht,redirect:"/home",meta:{isTabs:!1,isSide:!1,isMain:!0},children:[{path:"/home",name:"Home",component:Dt,meta:{isTabs:!1,isSide:!1,isMain:!0}}]}],Rt=function(){return new f["a"]({mode:"history",routes:It,isAddAsyncMenuData:!1})},jt=f["a"].prototype.push;f["a"].prototype.push=function(t){return jt.call(this,t).catch((function(t){return t}))};var xt=Rt();xt.beforeEach((function(t,e,n){$t.a.start(),"/home"===t.path&&(sessionStorage.removeItem("currentMenu"),sessionStorage.removeItem("currentPage"),gt.commit("UPDATE_CURRENT_MODULE_NAME","home"),gt.commit("UPDATE_SUB_MENU",!0)),xt.options.isAddAsyncMenuData?n():gt.dispatch("generateRoutes").then((function(e){for(var o=0,s=e.length;o<s;o+=1){var a=e[o];xt.addRoute(a)}xt.options.isAddAsyncMenuData=!0,n(Object(m["a"])(Object(m["a"])({},t),{},{replace:!0}))}))})),xt.afterEach((function(){$t.a.done()}));var wt=xt,kt=(n("30a6"),n("c41d"),n("5c96")),Gt=n.n(kt),Bt=(n("0fae"),n("f90c")),Vt=n.n(Bt),Ft=n("4328");o["default"].use(Gt.a,{size:"small"}),o["default"].prototype.$validator=Vt.a,o["default"].prototype.$http=g,o["default"].prototype.$qsParse=Ft["parse"],o["default"].prototype.$qsStringify=Ft["stringify"],o["default"].config.productionTip=!1,new o["default"]({router:wt,store:gt,render:function(t){return t(l)}}).$mount("#main")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"8a00":function(t,e,n){"use strict";n("0582")},"9c0c":function(t,e,n){},b5df:function(t,e,n){},d500:function(t,e,n){"use strict";n("b5df")},d57a:function(t,e,n){"use strict";n("f00d")},dd18:function(t,e,n){"use strict";n("e03d")},e03d:function(t,e,n){},f00d:function(t,e,n){}});
//# sourceMappingURL=app.3fdd3466.js.map